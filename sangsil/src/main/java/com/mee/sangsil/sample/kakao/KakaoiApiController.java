package com.mee.sangsil.sample.kakao;

import java.io.IOException;
import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.Map;

import javax.servlet.http.HttpServletRequest;

import org.apache.http.NameValuePair;
import org.apache.http.client.config.RequestConfig;
import org.apache.http.client.methods.CloseableHttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.client.utils.URLEncodedUtils;
import org.apache.http.impl.client.CloseableHttpClient;
import org.apache.http.impl.client.HttpClientBuilder;
import org.apache.http.message.BasicNameValuePair;
import org.apache.http.util.EntityUtils;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.ModelAndView;

import com.mee.sangsil.common.CommonUtil;

import net.sf.json.JSONObject;

@Controller
public class KakaoiApiController {

	private static final Logger logger = LoggerFactory.getLogger(KakaoiApiController.class);

	private final int conTimeout = 10;
	private final int reqTimeout = 10;
	private final int socTimeout = 10;
	
	@RequestMapping(value = "/kakaoAddr")
	public ModelAndView kakaoAddr(HttpServletRequest request) {
		ModelAndView mav = new ModelAndView("/sample/kakaoAddr");
		return mav;
	}

	@SuppressWarnings("unchecked")
	@RequestMapping(value="/kakaoAddrQuery")
	public ModelAndView properties(@RequestParam Map<String, Object> paramMap){
		ModelAndView mav = new ModelAndView();
		mav.addObject("paramMap", paramMap);
		mav.setViewName("jsonView");
		
		JSONObject resultJson = new JSONObject();
		
		//http client 생성
//		CloseableHttpClient httpClient = HttpClients.createDefault();
		RequestConfig.Builder config = RequestConfig.custom();
		config.setConnectTimeout(conTimeout * 1000).setConnectionRequestTimeout(reqTimeout * 1000).setSocketTimeout(socTimeout * 1000);
		HttpClientBuilder builder = HttpClientBuilder.create();
		builder.setDefaultRequestConfig(config.build());
		CloseableHttpClient httpClient = builder.build();

		try{
			
			String urlAddr = "https://dapi.kakao.com/v2/local/search/address.json";
			
			
			List<NameValuePair> paramList = convertParam(paramMap);
			HttpGet httpClientRequest = new HttpGet(urlAddr+"?"+URLEncodedUtils.format(paramList, "UTF-8"));

			httpClientRequest.addHeader("Authorization", "KakaoAK e5a94d6a182cc6a35f28e1865a23e1de");
			
			//get 요청
			CloseableHttpResponse httpResponse = httpClient.execute(httpClientRequest);
			
			logger.debug("GET Response Status");
			logger.debug(String.valueOf(httpResponse.getStatusLine().getStatusCode()));
//			String jsonStr = EntityUtils.toString(httpResponse.getEntity(), "UTF-8");
			String jsonStr = "";
			// 강남
//			jsonStr = "{\"documents\":[{\"address\":{\"address_name\":\"서울 강남구\",\"b_code\":\"1168000000\",\"h_code\":\"1168000000\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_h_name\":\"\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"127.04737740838436\",\"y\":\"37.51733192586005\",\"zip_code\":\"\"},\"address_name\":\"서울 강남구\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"127.04737740838436\",\"y\":\"37.51733192586005\"}],\"meta\":{\"is_end\":true,\"pageable_count\":1,\"total_count\":1}}";
			
//				page=1 size=5 강남대로
//				jsonStr = "{\"documents\":[{\"address\":null,\"address_name\":\"서울 강남구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\",\"zone_no\":\"\"},\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\",\"zone_no\":\"\"},\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\"},{\"address\":null,\"address_name\":\"서울 서초구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 서초구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"서초구\",\"region_3depth_name\":\"반포동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\",\"zone_no\":\"\"},\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\"},{\"address\":null,\"address_name\":\"서울 서초구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 서초구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"서초구\",\"region_3depth_name\":\"양재동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\",\"zone_no\":\"\"},\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\"},{\"address\":null,\"address_name\":\"서울 용산구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 용산구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"용산구\",\"region_3depth_name\":\"\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01117308517476\",\"y\":\"37.52921250907628\",\"zone_no\":\"\"},\"x\":\"127.01117308517476\",\"y\":\"37.52921250907628\"}],\"meta\":{\"is_end\":false,\"pageable_count\":84,\"total_count\":84}}";
			
//				page=2 size=20 강남대로
//				jsonStr = "{\"documents\":[{\"address\":null,\"address_name\":\"서울 강남구 강남대로106길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로106길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로106길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02677165431989\",\"y\":\"37.50302323357407\",\"zone_no\":\"\"},\"x\":\"127.02677165431989\",\"y\":\"37.50302323357407\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로110길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로110길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로110길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02831919363604\",\"y\":\"37.50411128742539\",\"zone_no\":\"\"},\"x\":\"127.02831919363604\",\"y\":\"37.50411128742539\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로112길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로112길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로112길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02682243562074\",\"y\":\"37.50587400320286\",\"zone_no\":\"\"},\"x\":\"127.02682243562074\",\"y\":\"37.50587400320286\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로114길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로114길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로114길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02663710651385\",\"y\":\"37.50630292359998\",\"zone_no\":\"\"},\"x\":\"127.02663710651385\",\"y\":\"37.50630292359998\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로116길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로116길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로116길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02587263608694\",\"y\":\"37.50653375082331\",\"zone_no\":\"\"},\"x\":\"127.02587263608694\",\"y\":\"37.50653375082331\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로118길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로118길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로118길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02642027247227\",\"y\":\"37.507200373344645\",\"zone_no\":\"\"},\"x\":\"127.02642027247227\",\"y\":\"37.507200373344645\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로120길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로120길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로120길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02688648295144\",\"y\":\"37.507859803772526\",\"zone_no\":\"\"},\"x\":\"127.02688648295144\",\"y\":\"37.507859803772526\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로122길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로122길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로122길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.0255566247323\",\"y\":\"37.50849080237489\",\"zone_no\":\"\"},\"x\":\"127.0255566247323\",\"y\":\"37.50849080237489\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로124길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로124길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로124길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02544834616847\",\"y\":\"37.50937381039389\",\"zone_no\":\"\"},\"x\":\"127.02544834616847\",\"y\":\"37.50937381039389\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로126길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로126길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로126길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02609578517861\",\"y\":\"37.51076842419629\",\"zone_no\":\"\"},\"x\":\"127.02609578517861\",\"y\":\"37.51076842419629\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로128길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로128길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로128길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02522719528747\",\"y\":\"37.51095602181913\",\"zone_no\":\"\"},\"x\":\"127.02522719528747\",\"y\":\"37.51095602181913\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로130길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로130길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"\",\"road_name\":\"강남대로130길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02228639171813\",\"y\":\"37.51080884855292\",\"zone_no\":\"\"},\"x\":\"127.02228639171813\",\"y\":\"37.51080884855292\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로132길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로132길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로132길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02357638865719\",\"y\":\"37.512682687084165\",\"zone_no\":\"\"},\"x\":\"127.02357638865719\",\"y\":\"37.512682687084165\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로136길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로136길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로136길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02296136193964\",\"y\":\"37.513612644469056\",\"zone_no\":\"\"},\"x\":\"127.02296136193964\",\"y\":\"37.513612644469056\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로140길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로140길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로140길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02290726403915\",\"y\":\"37.514250565788416\",\"zone_no\":\"\"},\"x\":\"127.02290726403915\",\"y\":\"37.514250565788416\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로146길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로146길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로146길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02183066880421\",\"y\":\"37.51501482095603\",\"zone_no\":\"\"},\"x\":\"127.02183066880421\",\"y\":\"37.51501482095603\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로150길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로150길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로150길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02036040809537\",\"y\":\"37.515746698596196\",\"zone_no\":\"\"},\"x\":\"127.02036040809537\",\"y\":\"37.515746698596196\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로152길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로152길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"신사동\",\"road_name\":\"강남대로152길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02213919655763\",\"y\":\"37.517934015158474\",\"zone_no\":\"\"},\"x\":\"127.02213919655763\",\"y\":\"37.517934015158474\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로154길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로154길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"신사동\",\"road_name\":\"강남대로154길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02127050040939\",\"y\":\"37.51807473131632\",\"zone_no\":\"\"},\"x\":\"127.02127050040939\",\"y\":\"37.51807473131632\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로156길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로156길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"신사동\",\"road_name\":\"강남대로156길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02110773594423\",\"y\":\"37.51851445013212\",\"zone_no\":\"\"},\"x\":\"127.02110773594423\",\"y\":\"37.51851445013212\"}],\"meta\":{\"is_end\":false,\"pageable_count\":84,\"total_count\":84}}";
			
//				page=1 size=10 삼성동
//				jsonStr = "{\"documents\":[{\"address\":{\"address_name\":\"서울 강남구 삼성동\",\"b_code\":\"1168010500\",\"h_code\":\"\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_h_name\":\"\",\"region_3depth_name\":\"삼성동\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"127.06283102249932\",\"y\":\"37.514322572335935\",\"zip_code\":\"\"},\"address_name\":\"서울 강남구 삼성동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"127.06283102249932\",\"y\":\"37.514322572335935\"},{\"address\":{\"address_name\":\"서울 관악구 삼성동\",\"b_code\":\"\",\"h_code\":\"1162074500\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"관악구\",\"region_3depth_h_name\":\"삼성동\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"126.93297358189791\",\"y\":\"37.47014568749082\",\"zip_code\":\"\"},\"address_name\":\"서울 관악구 삼성동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"126.93297358189791\",\"y\":\"37.47014568749082\"},{\"address\":{\"address_name\":\"서울 강남구 삼성1동\",\"b_code\":\"\",\"h_code\":\"1168058000\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_h_name\":\"삼성1동\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"127.06252794171509\",\"y\":\"37.51439120945542\",\"zip_code\":\"\"},\"address_name\":\"서울 강남구 삼성1동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"127.06252794171509\",\"y\":\"37.51439120945542\"},{\"address\":{\"address_name\":\"서울 강남구 삼성2동\",\"b_code\":\"\",\"h_code\":\"1168059000\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_h_name\":\"삼성2동\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"127.04607058643163\",\"y\":\"37.511266884811576\",\"zip_code\":\"\"},\"address_name\":\"서울 강남구 삼성2동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"127.04607058643163\",\"y\":\"37.511266884811576\"},{\"address\":{\"address_name\":\"대전 동구 삼성동\",\"b_code\":\"3011011800\",\"h_code\":\"3011069500\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"대전\",\"region_2depth_name\":\"동구\",\"region_3depth_h_name\":\"삼성동\",\"region_3depth_name\":\"삼성동\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"127.42217253113289\",\"y\":\"36.34056478792928\",\"zip_code\":\"\"},\"address_name\":\"대전 동구 삼성동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"127.42217253113289\",\"y\":\"36.34056478792928\"},{\"address\":{\"address_name\":\"전북 익산시 삼성동\",\"b_code\":\"\",\"h_code\":\"4514069000\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"전북\",\"region_2depth_name\":\"익산시\",\"region_3depth_h_name\":\"삼성동\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"126.98944639171259\",\"y\":\"35.962711311392766\",\"zip_code\":\"\"},\"address_name\":\"전북 익산시 삼성동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"126.98944639171259\",\"y\":\"35.962711311392766\"},{\"address\":{\"address_name\":\"경남 양산시 삼성동\",\"b_code\":\"\",\"h_code\":\"4833052000\",\"main_adderss_no\":\"\",\"main_address_no\":\"\",\"mountain_yn\":\"N\",\"region_1depth_name\":\"경남\",\"region_2depth_name\":\"양산시\",\"region_3depth_h_name\":\"삼성동\",\"region_3depth_name\":\"\",\"sub_adderss_no\":\"\",\"sub_address_no\":\"\",\"x\":\"129.04060687775322\",\"y\":\"35.35282166043662\",\"zip_code\":\"\"},\"address_name\":\"경남 양산시 삼성동\",\"address_type\":\"REGION\",\"road_address\":null,\"x\":\"129.04060687775322\",\"y\":\"35.35282166043662\"}],\"meta\":{\"is_end\":true,\"pageable_count\":7,\"total_count\":7}}";
			
//				page=1 size=30 강남대로
				jsonStr = "{\"documents\":[{\"address\":null,\"address_name\":\"서울 강남구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\",\"zone_no\":\"\"},\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\",\"zone_no\":\"\"},\"x\":\"127.01348509177836\",\"y\":\"37.52673271064755\"},{\"address\":null,\"address_name\":\"서울 서초구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 서초구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"서초구\",\"region_3depth_name\":\"반포동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\",\"zone_no\":\"\"},\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\"},{\"address\":null,\"address_name\":\"서울 서초구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 서초구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"서초구\",\"region_3depth_name\":\"양재동\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\",\"zone_no\":\"\"},\"x\":\"127.02943267575411\",\"y\":\"37.49416390649757\"},{\"address\":null,\"address_name\":\"서울 용산구 강남대로\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 용산구 강남대로\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"용산구\",\"region_3depth_name\":\"\",\"road_name\":\"강남대로\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.01117308517476\",\"y\":\"37.52921250907628\",\"zone_no\":\"\"},\"x\":\"127.01117308517476\",\"y\":\"37.52921250907628\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로42길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로42길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"도곡동\",\"road_name\":\"강남대로42길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03572486084961\",\"y\":\"37.485440417377546\",\"zone_no\":\"\"},\"x\":\"127.03572486084961\",\"y\":\"37.485440417377546\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로44길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로44길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"도곡동\",\"road_name\":\"강남대로44길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03481603777975\",\"y\":\"37.48595966944755\",\"zone_no\":\"\"},\"x\":\"127.03481603777975\",\"y\":\"37.48595966944755\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로48길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로48길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"도곡동\",\"road_name\":\"강남대로48길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03423755009568\",\"y\":\"37.48688607488889\",\"zone_no\":\"\"},\"x\":\"127.03423755009568\",\"y\":\"37.48688607488889\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로54길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로54길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"도곡동\",\"road_name\":\"강남대로54길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03337433150615\",\"y\":\"37.488313518528436\",\"zone_no\":\"\"},\"x\":\"127.03337433150615\",\"y\":\"37.488313518528436\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로58길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로58길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"도곡동\",\"road_name\":\"강남대로58길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03444694400103\",\"y\":\"37.48981609159838\",\"zone_no\":\"\"},\"x\":\"127.03444694400103\",\"y\":\"37.48981609159838\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로62길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로62길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로62길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03309040121098\",\"y\":\"37.49060576197729\",\"zone_no\":\"\"},\"x\":\"127.03309040121098\",\"y\":\"37.49060576197729\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로66길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로66길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로66길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03238092222762\",\"y\":\"37.49207640265983\",\"zone_no\":\"\"},\"x\":\"127.03238092222762\",\"y\":\"37.49207640265983\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로78길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로78길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로78길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03089862911698\",\"y\":\"37.49519788810789\",\"zone_no\":\"\"},\"x\":\"127.03089862911698\",\"y\":\"37.49519788810789\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로84길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로84길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로84길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03011223137582\",\"y\":\"37.496830715315674\",\"zone_no\":\"\"},\"x\":\"127.03011223137582\",\"y\":\"37.496830715315674\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로92길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로92길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로92길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02906818670857\",\"y\":\"37.49904745259316\",\"zone_no\":\"\"},\"x\":\"127.02906818670857\",\"y\":\"37.49904745259316\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로94길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로94길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로94길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.03155216700831\",\"y\":\"37.500387512392614\",\"zone_no\":\"\"},\"x\":\"127.03155216700831\",\"y\":\"37.500387512392614\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로96길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로96길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로96길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02785616534126\",\"y\":\"37.49981179785248\",\"zone_no\":\"\"},\"x\":\"127.02785616534126\",\"y\":\"37.49981179785248\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로98길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로98길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로98길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02770723234008\",\"y\":\"37.50074527515123\",\"zone_no\":\"\"},\"x\":\"127.02770723234008\",\"y\":\"37.50074527515123\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로100길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로100길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로100길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02806501452358\",\"y\":\"37.5018552299608\",\"zone_no\":\"\"},\"x\":\"127.02806501452358\",\"y\":\"37.5018552299608\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로102길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로102길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로102길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02735955593552\",\"y\":\"37.50250772362842\",\"zone_no\":\"\"},\"x\":\"127.02735955593552\",\"y\":\"37.50250772362842\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로106길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로106길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로106길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02677165431989\",\"y\":\"37.50302323357407\",\"zone_no\":\"\"},\"x\":\"127.02677165431989\",\"y\":\"37.50302323357407\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로110길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로110길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"역삼동\",\"road_name\":\"강남대로110길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02831919363604\",\"y\":\"37.50411128742539\",\"zone_no\":\"\"},\"x\":\"127.02831919363604\",\"y\":\"37.50411128742539\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로112길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로112길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로112길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02682243562074\",\"y\":\"37.50587400320286\",\"zone_no\":\"\"},\"x\":\"127.02682243562074\",\"y\":\"37.50587400320286\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로114길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로114길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로114길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02663710651385\",\"y\":\"37.50630292359998\",\"zone_no\":\"\"},\"x\":\"127.02663710651385\",\"y\":\"37.50630292359998\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로116길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로116길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로116길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02587263608694\",\"y\":\"37.50653375082331\",\"zone_no\":\"\"},\"x\":\"127.02587263608694\",\"y\":\"37.50653375082331\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로118길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로118길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로118길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02642027247227\",\"y\":\"37.507200373344645\",\"zone_no\":\"\"},\"x\":\"127.02642027247227\",\"y\":\"37.507200373344645\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로120길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로120길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로120길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02688648295144\",\"y\":\"37.507859803772526\",\"zone_no\":\"\"},\"x\":\"127.02688648295144\",\"y\":\"37.507859803772526\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로122길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로122길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로122길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.0255566247323\",\"y\":\"37.50849080237489\",\"zone_no\":\"\"},\"x\":\"127.0255566247323\",\"y\":\"37.50849080237489\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로124길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로124길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로124길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02544834616847\",\"y\":\"37.50937381039389\",\"zone_no\":\"\"},\"x\":\"127.02544834616847\",\"y\":\"37.50937381039389\"},{\"address\":null,\"address_name\":\"서울 강남구 강남대로126길\",\"address_type\":\"ROAD\",\"road_address\":{\"address_name\":\"서울 강남구 강남대로126길\",\"building_name\":\"\",\"main_building_no\":\"\",\"region_1depth_name\":\"서울\",\"region_2depth_name\":\"강남구\",\"region_3depth_name\":\"논현동\",\"road_name\":\"강남대로126길\",\"sub_building_no\":\"\",\"undergroun_yn\":\"N\",\"underground_yn\":\"N\",\"x\":\"127.02609578517861\",\"y\":\"37.51076842419629\",\"zone_no\":\"\"},\"x\":\"127.02609578517861\",\"y\":\"37.51076842419629\"}],\"meta\":{\"is_end\":false,\"pageable_count\":84,\"total_count\":84}}";

//				jsonStr = "{\"errorType\":\"InvalidArgument\",\"message\":\"size is more than max\"}";
			
			
			if("200".equalsIgnoreCase(String.valueOf(httpResponse.getStatusLine().getStatusCode()))) {
				resultJson = UtilJson.changeStringToJson(jsonStr);
				CommonUtil.getReturnCodeSuc(resultJson);
			}else {
				resultJson = UtilJson.changeStringToJson(jsonStr);
				CommonUtil.getReturnCodeFail(resultJson);
			}

			// 연동이 안되므로 임시로 해둠
			CommonUtil.getReturnCodeSuc(resultJson);
			
			// 메타정보
			mav.addObject("resultJson", resultJson);
			

			/*
			>meta
			total_count	검색어에 검색된 문서수	Integer
			pageable_count	total_count 중에 노출가능 문서수	Integer
			is_end	현재 페이지가 마지막 페이지인지 여부. 값이 false이면 page를 증가시켜 다음 페이지를 요청할 수 있음.	Boolean

			>document
			키	설명	타입
			address_name	전체 지번 주소 또는 전체 도로명 주소. (input에 따라 결정됨)	String
			address_type	address_name의 값의 type. 지명, 도로명, 지번주소, 도로명주소 여부	REGION or ROAD or REGION_ADDR or ROAD_ADDR
			x	X 좌표값 혹은 longitude	String
			y	Y 좌표값 혹은 latitude	String
			address	지번주소 상세 정보	아래 address output 참조
			road_address	도로명주소 상세 정보	아래 road_address output 참조
			
			>address
			키	설명	타입
			address_name	전체 지번 주소	String
			region_1depth_name	지역 1Depth명 - 시도 단위	String
			region_2depth_name	지역 2Depth명 - 구 단위	String
			region_3depth_name	지역 3Depth명 - 동 단위	String
			region_3depth_h_name	지역 3Depth 행정동 명칭	String
			h_code	행정 코드	String
			b_code	법정 코드	String
			mountain_yn	산 여부	String
			main_address_no	지번 주 번지	String
			sub_address_no	지번 부 번지. 없을 경우 ""	String
			zip_code	[Deprecated] 우편번호 (6자리).공지확인	String
			x	X 좌표값 혹은 longitude	String
			y	Y 좌표값 혹은 latitude	String
			
			>road_address
			키	설명	타입
			address_name	전체 도로명 주소	String
			region_1depth_name	지역명1	String
			region_2depth_name	지역명2	String
			region_3depth_name	지역명3	String
			road_name	도로명	String
			underground_yn	지하 여부	Y or N
			main_building_no	건물 본번	String
			sub_building_no	건물 부번. 없을 경우 ""	String
			building_name	건물 이름	String
			zone_no	우편번호(5자리)	String
			x	X 좌표값 혹은 longitude	String
			y	Y 좌표값 혹은 latitude	String
			
			 */
			logger.debug("RESULT:\n"+jsonStr);
			logger.debug("GET resultJson\n"+resultJson.toString());
		}catch (Exception e) {
			e.printStackTrace();
			CommonUtil.getReturnCodeFail(resultJson, e.toString());
		}finally {
			try {
				httpClient.close();
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
		
		mav.addObject("resultJson", resultJson);
		
		return mav;
	}
	
	private List<NameValuePair> convertParam(Map params){
		List<NameValuePair> paramList = new ArrayList<NameValuePair>();
		Iterator<String> keys = params.keySet().iterator();
		while(keys.hasNext()){
			String key = keys.next();
			paramList.add(new BasicNameValuePair(key, params.get(key).toString()));
		}
		
		return paramList;
	}
	
}
